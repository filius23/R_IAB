{
  "hash": "a4d88e454f620c23a3709d3e16822c50",
  "result": {
    "markdown": "# Einstieg in R\n\n\n\n\n\n## Installation und Einrichten von R & RStudio\n\nBei R handelt es sich um ein vollständig kostenloses Programm, das Sie unter [CRAN](https://cran.r-project.org/) herunterladen können. Ebenfalls kostenlos ist die Erweiterung RStudio, die Sie unter [hier](https://www.rstudio.com/products/rstudio/download/#download) herunterladen können. RStudio erweitert R um eine deutlich informativere und ansprechendere Oberfläche, Hilfe und Auto-Vervollständigung beim Schreiben von Syntax und insgesamt eine verbesserte Nutzeroberfläche. Jedoch ist RStudio eine Erweiterung von R, sodass Sie beide Programme benötigen.\n\n::: callout-note\nInstallieren Sie zuerst R und dann RStudio, dann erkennt RStudio die installierte R-Version und die beiden Programme verbinden sich in der Regel automatisch. R ist dabei sozusagen der Motor, RStudio unser Cockpit. Wir könnten direkt mit R arbeiten, aber mit RStudio haben wir eine komfortablere Option und einen besseren Überblick.\n:::\n\n\n::: {#fig-rstudio layout-ncol=\"2\"}\n![](./pic/101_engine_R.png){width=\"200\"} ![](./pic/101_cockpit_rstudio2.png){width=\"200\"}\n\nR und RStudio\n:::\n\n## RStudio einrichten\n\nÖffnen Sie nach erfolgreicher Installation die Anwendung RStudio ![](./pic/rstudio-icon.png){width=\"20px\"} und Sie sollten folgende Ansicht vor sich sehen:\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![](./prereq/RStudio0.png)\n\nUm Probleme bei der künftigen Arbeit mit R zu vermeiden, deaktivieren Sie bitte das automatische Speichern und Laden des Workspace. Rufen Sie dazu das entsprechende Menü unter dem Reiter \"Tools -\\> Global options\" auf und deaktivieren Sie bitte \"Restore .RData into workspace at startup\" und setzen Sie \"Save workspace to .RData on exit:\" auf `Never`. RStudio speichert ansonsten alle geladenen Objekte wenn Sie die Sitzung beenden und lädt diese automatisch wenn Sie das Programm das nächste Mal öffnen. Dies führt erfahrungsgemäß zu Problemen.\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![](./pic/101_RStudio_setup.png)\n\nBestätigen Sie die Einstellungen mit \"Apply\" und schließen Sie das Fenster mit \"OK\".\n\n## Erste Schritte in R\n\nNach diesen grundlegenden Einstellungen können wir uns an die ersten Schritte in R machen. Öffnen Sie dazu zunächst ein Script, indem Sie auf das weiße Symbol links oben klicken oder drücken Sie gleichzeitig STRG/Command + Shift + N .\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![](./pic/101_RStudio_script2.png){width=\"438\"}\n\nEs öffnet sich ein viertes Fenster, sodass Sie nun folgende Ansicht vor sich haben sollten:\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![](./pic/101_RStudio_script.png)\n\nDieser Scripteditor ist der Ort, an dem wir Befehle erstellen und anschließend durchführen werden. Der Scripteditor dient dabei als Sammlung aller durchzuführenden Befehle. Wir können diese Sammlungen speichern, um sie später wieder aufzurufen und vor allem können wir so Befehlssammlungen mit anderen teilen oder Skripte von anderen für uns selbst nutzen. Wir entwerfen also zunächst im Scripteditor eine Rechnung:\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![](./pic/101_RStudio_script0.png){width=\"340\"}\n\nUm diese nun auszuführen, klicken wir in die auszuführende Zeile, sodass der Cursor in dieser Zeile ist und drücken gleichzeitig STRG und Enter (Mac-User Command und Enter):\n\n\n::: {.cell}\n\n:::\n\n\n::: {#fig-keys layout-ncol=\"2\"}\n![](./pic/101_keyboard_pc.png){width=\"390\"}\n\n![](./pic/101_keyboard_mac.png){width=\"390\"}\n\nShortcuts für Berechnungen\n:::\n\nR gibt die Ergebnisse unten in der Console aus:\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![](./pic/101_RStudio_Erste_Rechnung.png)\n\nDas funktioniert auch für mehrere Rechnungen auf einmal indem wir mehrere Zeilen markieren und dann wieder STRG und Enter (Mac-User Command und Enter) drücken:\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![](./pic/101_RStudio_Rechnung.png)\n\nEingaben aus dem Script-Editor und Ergebnisse aus der Konsole werden in Zukunft so dargestellt:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n2+5\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 7\n```\n:::\n\n```{.r .cell-code}\n3-4\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] -1\n```\n:::\n\n```{.r .cell-code}\n5*6\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 30\n```\n:::\n\n```{.r .cell-code}\n7/8\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.875\n```\n:::\n:::\n\n\nR beherrscht natürlich auch längere Berechnungen, zum Beispiel wird auch Punkt vor Strich beachtet:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n2+3*2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 8\n```\n:::\n\n```{.r .cell-code}\n(2+3)*2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10\n```\n:::\n:::\n\n\nAuch weitere Operationen sind möglich:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n4^2 ## 4²\nsqrt(4) ## Wurzel \nexp(1) ## Exponentialfunktion (Eulersche Zahl)\nlog(5) ## Natürlicher Logarithmus\nlog(exp(5)) ## log und exp heben sich gegenseitig auf\n```\n:::\n\n\nZahlenreihen können wir mit `seq()` oder `:` erstellen:\n\n::: {.cell}\n\n```{.r .cell-code}\n2:6\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2 3 4 5 6\n```\n:::\n\n```{.r .cell-code}\nseq(2,11,3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]  2  5  8 11\n```\n:::\n:::\n\n\n\n### Objekte erstellen\n\nBisher haben wir uns unsere Berechnungen immer direkt ausgeben lassen.\nFür umfangreichere Berechnungen - wir wollen ja ab dem nächsten Kapitel mit Datensätzen arbeiten - wollen wir aber die Zwischenschritte speichern.\n\nErgebnisse lassen sich mit einem `<-` unter einem beliebigen Namen als Objekt speichern. Dann wird R uns nicht das Ergebnis anzeigen, sondern den Befehl in der Konsole wiederholen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- 4/2\n```\n:::\n\n\nIm Fenster \"Environment\" rechts oben sehen wir jetzt das abgelegte Objekt `x`:\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![](./pic/101_RStudio_Environment2.png)\n\nWir können es später wieder aufrufen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2\n```\n:::\n:::\n\n\nAußerdem können wir Objekte in Rechnungen weiter verwenden - wir setzen einfach `x` ein und erstellen zB. `y`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ny <- x * 5\ny\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10\n```\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![](./pic/101_RStudio_Environment.png)\n\n### Mehrere Werte ablegen\n\nMit `c()` lassen sich mehrere Werte unter einem Objekt ablegen und auch mit diesen lässt sich rechnen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx1 <- c(1,2,3)\nx1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 2 3\n```\n:::\n\n```{.r .cell-code}\nx1* 2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2 4 6\n```\n:::\n:::\n\n\nMit `length()` können wir die Anzahl der abgelegten Werte nachsehen:\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(x1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ny1 <- c(10,11,9)\ny1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10 11  9\n```\n:::\n\n```{.r .cell-code}\ny1/x1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10.0  5.5  3.0\n```\n:::\n:::\n\n\n\n### Werte löschen\n\nNatürlich können wir Objekte auch wieder löschen und zwar mit `rm()`. Wenn wir ein nicht existierendes Objekt aufrufen bekommen wir eine Fehlermeldung:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrm(x1)\nx1\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in eval(expr, envir, enclos): Objekt 'x1' nicht gefunden\n```\n:::\n:::\n\n\nMit `rm(list = ls())` können alle Objekte aus dem Environment gelöscht werden.\n\n### Scripte speichern\n\nDas Script können wir speichern, um es später wieder aufzurufen.\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n![](./pic/101_RStudio_script3.png){width=\"342\"}\n\nWichtig ist dabei, der gespeicherten Datei die Endung \".R\" zu geben, also zum Beispiel \"01_Script.R\".\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n### Kommentare\n\nNeben den eigentlichen Befehlen sind Kommentare ein zentraler Bestandteil einer Datenanalyse-Syntax.\nNur so können künftige Nutzende (insbesondere wir selbst in 3 Wochen oder 2 Jahren) nachvollziehen was passiert. \nKommentare in R können mit `#` eingefügt werden:\n\n::: {.cell}\n\n```{.r .cell-code}\n2+ 5 # hier steht ein Kommentar\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 7\n```\n:::\n\n```{.r .cell-code}\n2+ # auch hier kann ein Kommentar stehen\n  5\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 7\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n( 2 + # ein\n    3) * # kommentar\n  2 # über mehrere Zeilen\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 10\n```\n:::\n:::\n\n\n\n\n**Tipp:** Erstellen Sie sich am besten sofort einen Ordner, in dem Sie alle R Scripte und Datensätze aus dieser Veranstaltung gesammelt ablegen.\n\n\n### Skripte strukturieren\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Überschrift 1 ----\n\n## Abschnit 1.1 ----\n3+2*4\n3+2*3\n## Abschnit 1.2 ----\n3+2*sqrt(3)\n\n# Überschrift 2 ----\nx <- c(2,6,8,2,35)\ny <- seq(2,10,2)\n\ny/x\n```\n:::\n\n::: {.cell}\n\n:::\n\n![](./pic/101_skript_überschriften.png){width=\"742\"}\n\n\n\n## Übungen\n\n-   Legen Sie die Anzahl der Studierenden an der Uni Oldenburg (15643) unter `stud` ab.\n-   Legen Sie die Anzahl der Professuren an der Uni Oldenburg (210) unter `prof` ab.\n-   Berechnen Sie die Anzahl der Studierenden pro Professur an der Uni Oldenburg indem Sie die Objekte `stud` und `prof` verwenden.\n-   Legen Sie das Ergebnis unter `studprof` ab und rufen Sie das das Objekt noch einmal auf!\n-   Sehen Sie die erstellten Variablen im Environment-Fenster?\n-   Legen Sie die Studierendenzahlen der Uni Bremen (19173), Uni Vechta (5333) und Uni Oldenburg (15643) zusammen unter `studs` ab.\n-   Legen Sie die Zahl der Profs der Uni Bremen (322), Uni Vechta (67) und Uni Oldenburg (210) zusammen unter `profs` ab.\n-   Berechnen die Anzahl der Studierenden pro Professur für alle drei Universitäten.\n-   Sie möchten zusätzlich die Zahl der Studierenden (14000) und Professuren (217) der Uni Osnabrück in `studs` und `profs` ablegen. Wie gehen Sie vor?\n-   Berechnen Sie für alle vier Universitäten das Verhältnis von Studierenden und Professuren!\n-   Löschen Sie das Objekt `stud`. Woran erkennen Sie, dass das funktioniert hat?\n-   Löschen Sie alle Objekte aus dem Environment. Woran erkennen Sie, dass das funktioniert hat?\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}